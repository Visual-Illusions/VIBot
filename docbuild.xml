<?xml version="1.0" encoding="UTF-8"?>
<project name="VIBot JavaDoc creator" default="zip" basedir=".">
  <description>
      This script will build the VIBot JavaDocs and zip them
  </description>
  <property name="docs" location="./docs" />
  <property name="src" location="src/main/java/" />

  <target name="verifyRequirements" description="Checks if the necessary requirements for building Handler are fulfilled">
    <available classname="javax.script.ScriptContext" property="JDK7.present" />
    <fail unless="JDK7.present" message="JDK 7 or greater is required." />
  </target>
	
  <target name="clean" description="Remove the output directories">
	<delete dir="${docs}" />
  </target>

  <target name="init" depends="clean, verifyRequirements" description="Create the output directories.">
      <mkdir dir="${docs}" />
  </target>

  <target name="javadoc" depends="init" description="Generate javadocs">
    <javadoc author="true"
      packagenames="net.visualillusionsent.vibot.*"
      sourcepath="${src}"
      source="1.7"
      private="true"
      charset="UTF-8" 
      destdir="${docs}" 
      docencoding="UTF-8"
      failonerror="true"
      use="true"
      useexternalfile="true"
      version="true"
      doctitle="VIBot - Visual Illusions Java IRC Bot"
      additionalparam='-tag code.derivative:a:"Source Code Derivative:"'>
    	  <link href="http://docs.visualillusionsent.net/VIUtils/"/>
    	  <link href="http://docs.oracle.com/javase/7/docs/api/"/>
    </javadoc>
  </target>

  <target name="zip" depends="javadoc" description="Zips javadocs">
	<zip destfile="VIBotDocs.zip" basedir="${docs}" />
  </target>

</project>
